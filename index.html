<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>International Currency Converter</title>
 
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7360825692914290"
     crossorigin="anonymous"></script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="logo.png">
<style>
:root{
 --bg:#f0fff4;
 --card:#ffffff;
 --text:#064e3b;
 --primary:#16a34a;
}
.dark{
 --bg:#052e16;
 --card:#064e3b;
 --text:#d1fae5;
}
body{margin:0;font-family:Segoe UI,sans-serif;background:var(--bg);color:var(--text);}
.container{max-width:900px;margin:auto;padding:20px;}
.card{background:var(--card);padding:20px;border-radius:16px;box-shadow:0 15px 40px rgba(0,0,0,.12);}
.header{display:flex;justify-content:space-between;align-items:center;}
.title{display:flex;align-items:center;gap:12px;}
.logo{width:54px;height:54px;}
h2{margin:0;color:var(--primary);}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px;}
input,select,button{padding:11px;border-radius:10px;border:1px solid #bbf7d0;font-size:15px;}
button{background:#16a34a;color:white;border:none;font-weight:bold;cursor:pointer;}
.result{margin-top:14px;background:#dcfce7;padding:14px;border-radius:12px;font-weight:bold;font-size:18px;}
.words{margin-top:8px;font-weight:600;}
table{width:100%;margin-top:14px;border-collapse:collapse;}
th,td{padding:8px;border-bottom:1px solid #bbf7d0;}
.footer{text-align:center;margin-top:16px;font-size:13px;font-weight:600;}
</style>
</head>

<body>
<div class="container">
<div class="card">

<div class="header">
<div class="title">
<img src="./logo.png" class="logo">
<h2>International Currency Converter</h2>
</div>
<div onclick="toggleDark()" style="cursor:pointer">ðŸŒ™ Dark</div>
</div>

<div class="grid">
<input id="amount" type="number" value="1">

<select id="unit">
<option value="1">Normal</option>
<option value="1000">Thousand</option>
<option value="1000000">Million</option>
<option value="1000000000">Billion</option>
</select>

<select id="from"></select>
<select id="to"></select>

<select id="system">
<option value="indian">ðŸ‡®ðŸ‡³ Indian Words</option>
<option value="international">International</option>
</select>

<button onclick="convert()">Convert</button>
</div>

<div class="result" id="result"></div>
<div class="words" id="words"></div>

<h3>ðŸ“… Last 6 Months Rates</h3>
<table id="history">
<tr><th>Month</th><th>Rate</th></tr>
</table>

<div class="footer">
Developed by Chandan Shetty<br><br>
<a href="privacy.html">Privacy Policy</a> |
<a href="about.html">About</a> |
<a href="contact.html">Contact</a>
</div>

</div>

<script>
let rates={};
const fromSel=document.getElementById("from");
const toSel=document.getElementById("to");

/* ---------- SYMBOL DETECTOR (ALL CURRENCIES) ---------- */
function getSymbol(code){
 try{
  return (0).toLocaleString(undefined,{
    style:'currency',
    currency:code,
    minimumFractionDigits:0,
    maximumFractionDigits:0
  }).replace(/\d/g,'').trim();
 }catch{
  return code;
 }
}

/* ---------- LOAD CURRENCIES ---------- */
async function loadCurrencies(){
 const r=await fetch("https://open.er-api.com/v6/latest/USD");
 const d=await r.json();
 rates=d.rates;

 Object.keys(rates).sort().forEach(c=>{
  fromSel.innerHTML += `<option value="${c}">${getSymbol(c)} ${c}</option>`;
  toSel.innerHTML += `<option value="${c}">${getSymbol(c)} ${c}</option>`;
 });

 fromSel.value="USD";
 toSel.value="INR";
}
loadCurrencies();

/* ---------- WORD ENGINE ---------- */
function two(n){
 const o=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];
 const t=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];
 if(n<20) return o[n];
 return t[Math.floor(n/10)]+" "+o[n%10];
}
function three(n){
 if(n<100) return two(n);
 return two(Math.floor(n/100))+" Hundred "+(n%100?two(n%100):"");
}
function toIndianWords(num){
 num=Math.floor(num);
 let s="";
 if(num>=1e7){s+=three(Math.floor(num/1e7))+" Crore ";num%=1e7;}
 if(num>=1e5){s+=three(Math.floor(num/1e5))+" Lakh ";num%=1e5;}
 if(num>=1e3){s+=three(Math.floor(num/1e3))+" Thousand ";num%=1e3;}
 if(num>0)s+=three(num);
 return s.trim();
}

/* ---------- CONVERT ---------- */
function convert(){
 if(!rates[fromSel.value]) return;

 const amt=amount.value * unit.value;
 const f=fromSel.value;
 const t=toSel.value;

 const val=(amt/rates[f])*rates[t];

 result.innerText=`${getSymbol(f)} ${amt.toLocaleString()} ${f} = ${getSymbol(t)} ${val.toLocaleString()} ${t}`;
 words.innerText=(t==="INR")
  ? "Rupees "+toIndianWords(val)+" Only"
  : toIndianWords(val)+" Only";

 loadHistoryUniversal(f,t);
}

/* ---------- UNIVERSAL 6 MONTH HISTORY ---------- */
async function loadHistoryUniversal(fromC,toC){
 const table=document.getElementById("history");
 table.innerHTML="<tr><th>Month</th><th>Rate</th></tr>";

 for(let m=5;m>=0;m--){
  const d=new Date();
  d.setMonth(d.getMonth()-m);
  const date=d.toISOString().slice(0,10);

  const r=await fetch(`https://api.frankfurter.app/${date}?from=USD`);
  const j=await r.json();
  if(!j.rates) continue;

  const usdToFrom = j.rates[fromC];
  const usdToTo = j.rates[toC];

  if(!usdToFrom || !usdToTo) continue;

  const cross = usdToTo / usdToFrom;

  table.innerHTML += `<tr>
    <td>${d.toLocaleString('default',{month:'short',year:'2-digit'})}</td>
    <td>${cross.toFixed(4)}</td>
  </tr>`;
 }
}

function toggleDark(){
 document.body.classList.toggle("dark");
}
</script>

</body>
</html>


