<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Currency Exchange ‚Ä¢ Live Rates & History</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Live International Currency Converter with INR support and 6-month exchange rate history">
<link rel="icon" href="logo.png">

<!-- AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7360825692914290" crossorigin="anonymous"></script>

<!-- TomSelect -->
<link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Outfit:wght@300;400;600;700&display=swap');

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  min-height: 100vh;
  padding: 20px;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: -50%;
  right: -50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(34, 211, 238, 0.1) 0%, transparent 70%);
  animation: pulse 8s ease-in-out infinite;
  pointer-events: none;
}

@keyframes pulse {
  0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.5; }
  50% { transform: scale(1.2) rotate(45deg); opacity: 0.8; }
}

.container {
  max-width: 1100px;
  margin: auto;
  position: relative;
  z-index: 1;
}

.header {
  text-align: center;
  margin-bottom: 40px;
  animation: slideDown 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-30px); }
  to { opacity: 1; transform: translateY(0); }
}

.header h1 {
  font-family: 'DM Serif Display', serif;
  font-size: clamp(2rem, 5vw, 3.5rem);
  color: #ffffff;
  margin-bottom: 8px;
  letter-spacing: -0.02em;
  text-shadow: 0 0 30px rgba(34, 211, 238, 0.3);
}

.header p {
  color: #94a3b8;
  font-size: 1.1rem;
  font-weight: 300;
}

.card {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(20px);
  padding: 40px;
  border-radius: 24px;
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
  animation: fadeInUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s both;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(40px); }
  to { opacity: 1; transform: translateY(0); }
}

.converter-section {
  margin-bottom: 30px;
}

.input-group {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 12px;
  margin-bottom: 12px;
}

input[type="number"],
select {
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(255, 255, 255, 0.1);
  color: #ffffff;
  padding: 16px 20px;
  border-radius: 12px;
  font-size: 1rem;
  font-family: 'Outfit', sans-serif;
  font-weight: 400;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  outline: none;
}

input[type="number"]:focus,
select:focus {
  border-color: #22d3ee;
  background: rgba(255, 255, 255, 0.08);
  box-shadow: 0 0 0 4px rgba(34, 211, 238, 0.1);
}

input[type="number"]::placeholder {
  color: #64748b;
}

.currency-selects {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 16px;
}

.ts-wrapper {
  margin: 0;
}

.ts-control {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 2px solid rgba(255, 255, 255, 0.1) !important;
  color: #ffffff !important;
  padding: 12px 16px !important;
  border-radius: 12px !important;
  font-size: 1rem !important;
  font-family: 'Outfit', sans-serif !important;
  transition: all 0.3s ease !important;
  min-height: 54px !important;
}

.ts-control:focus,
.ts-wrapper.focus .ts-control {
  border-color: #22d3ee !important;
  background: rgba(255, 255, 255, 0.08) !important;
  box-shadow: 0 0 0 4px rgba(34, 211, 238, 0.1) !important;
}

.ts-dropdown {
  background: #1e293b !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  margin-top: 4px !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3) !important;
}

.ts-dropdown .option {
  color: #ffffff !important;
  padding: 12px 16px !important;
  transition: background 0.2s ease !important;
}

.ts-dropdown .option:hover,
.ts-dropdown .option.active {
  background: rgba(34, 211, 238, 0.1) !important;
}

.button-group {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 12px;
  margin-bottom: 20px;
}

button {
  background: linear-gradient(135deg, #22d3ee 0%, #0ea5e9 100%);
  color: #0f172a;
  border: none;
  padding: 16px 24px;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 700;
  font-family: 'Outfit', sans-serif;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow: 0 4px 20px rgba(34, 211, 238, 0.3);
  position: relative;
  overflow: hidden;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:hover::before {
  width: 300px;
  height: 300px;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(34, 211, 238, 0.5);
}

button:active {
  transform: translateY(0);
}

.swap {
  background: linear-gradient(135deg, #64748b 0%, #475569 100%);
  color: #ffffff;
  box-shadow: 0 4px 20px rgba(100, 116, 139, 0.3);
  font-size: 1.2rem;
}

.swap:hover {
  box-shadow: 0 8px 30px rgba(100, 116, 139, 0.5);
}

.result {
  background: linear-gradient(135deg, rgba(34, 211, 238, 0.1) 0%, rgba(14, 165, 233, 0.1) 100%);
  border: 2px solid rgba(34, 211, 238, 0.3);
  padding: 24px;
  border-radius: 16px;
  margin-bottom: 20px;
  animation: resultPop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes resultPop {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.result-amount {
  font-size: clamp(1.5rem, 4vw, 2.5rem);
  font-weight: 700;
  color: #22d3ee;
  margin-bottom: 8px;
  font-family: 'DM Serif Display', serif;
}

.result-label {
  font-size: 0.95rem;
  color: #94a3b8;
  font-weight: 300;
}

.change-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  margin-top: 12px;
  animation: slideIn 0.4s ease;
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

.change-up {
  background: rgba(34, 197, 94, 0.1);
  color: #22c55e;
  border: 1px solid rgba(34, 197, 94, 0.2);
}

.change-down {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.flag {
  width: 20px;
  height: 15px;
  margin-right: 8px;
  border-radius: 2px;
  object-fit: cover;
}

.favorite {
  cursor: pointer;
  color: #fbbf24;
  font-size: 1.1rem;
  transition: transform 0.2s ease;
  display: inline-block;
  margin-left: 8px;
}

.favorite:hover {
  transform: scale(1.2);
}

.chart-section {
  margin-top: 40px;
  animation: fadeInUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s both;
}

.chart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.chart-title {
  font-size: 1.4rem;
  font-weight: 600;
  color: #ffffff;
}

.chart-container {
  background: rgba(255, 255, 255, 0.02);
  padding: 24px;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  position: relative;
  height: 350px;
}

.loading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #64748b;
  font-size: 0.95rem;
}

.ad-zone {
  background: rgba(255, 255, 255, 0.02);
  border: 1px dashed rgba(255, 255, 255, 0.1);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
  color: #64748b;
  font-size: 0.9rem;
  margin: 20px 0;
}

@media (max-width: 768px) {
  .card {
    padding: 24px;
  }
  
  .input-group,
  .currency-selects,
  .button-group {
    grid-template-columns: 1fr;
  }
  
  .chart-container {
    height: 280px;
  }
}
</style>
</head>

<body>
<div class="container">
  <div class="header">
    <h1>Currency Exchange</h1>
    <p>Live rates with 6-month historical trends</p>
  </div>

  <div class="card">
    <div class="converter-section">
      <!-- AD ZONE A -->
      <div class="ad-zone">Ad Space Top</div>

      <div class="input-group">
        <input id="amount" type="number" value="1" placeholder="Enter amount" min="0" step="any">
        <select id="unit">
          <option value="1">Normal</option>
          <option value="1000">Thousand</option>
          <option value="1000000">Million</option>
          <option value="1000000000">Billion</option>
        </select>
      </div>

      <div class="currency-selects">
        <select id="from"></select>
        <select id="to"></select>
      </div>

      <div class="button-group">
        <button class="swap" onclick="swapCurrencies()">‚áÑ</button>
        <button onclick="convert()">Convert Currency</button>
      </div>

      <div class="result" id="resultCard" style="display:none;">
        <div class="result-amount" id="result"></div>
        <div class="result-label">Exchange Rate Result</div>
        <div id="change"></div>
      </div>

      <!-- AD ZONE B -->
      <div class="ad-zone">Ad Space Result</div>
    </div>

    <div class="chart-section">
      <div class="chart-header">
        <div class="chart-title">6-Month Exchange Rate History</div>
      </div>
      <div class="chart-container">
        <div class="loading" id="chartLoading">Loading historical data...</div>
        <canvas id="rateChart"></canvas>
      </div>
    </div>

    <!-- AD ZONE C -->
    <div class="ad-zone">Ad Space Bottom</div>
  </div>
</div>

<script>
const POPULAR = ["USD", "EUR", "GBP", "INR", "AED", "SAR", "QAR", "KWD", "JPY", "CNY"];
let rates = {};
let yesterdayRates = {};
let chart = null;

const fromSel = document.getElementById("from");
const toSel = document.getElementById("to");

function flagURL(code) {
  const countryCode = code.slice(0, 2).toLowerCase();
  return `https://flagcdn.com/24x18/${countryCode}.png`;
}

function favs() {
  try {
    return JSON.parse(localStorage.getItem("favCurrencies") || "[]");
  } catch (e) {
    return [];
  }
}

function toggleFav(c) {
  let f = favs();
  if (f.includes(c)) {
    f = f.filter(x => x !== c);
  } else {
    f.push(c);
  }
  localStorage.setItem("favCurrencies", JSON.stringify(f));
  buildSelects();
}

function optionHTML(c, name) {
  const star = favs().includes(c) ? "‚≠ê" : "‚òÜ";
  return `<div>
    <img class="flag" src="${flagURL(c)}" onerror="this.style.display='none'">
    ${c} ‚Äî ${name}
    <span class="favorite" onclick="event.stopPropagation();toggleFav('${c}')">${star}</span>
  </div>`;
}

async function loadRates() {
  try {
    // Try primary API
    const r = await fetch("https://api.frankfurter.app/latest?from=USD");
    const d = await r.json();
    
    if (d.rates) {
      // Add USD rate (base currency)
      rates = { USD: 1, ...d.rates };
      buildSelects();
      await autoDetectCurrency();
      convert(); // Auto-convert on load
    } else {
      throw new Error("No rates in response");
    }
  } catch (e) {
    console.error("Primary API failed, trying backup:", e);
    try {
      // Backup API
      const r2 = await fetch("https://open.er-api.com/v6/latest/USD");
      const d2 = await r2.json();
      
      if (d2.result === "success" && d2.rates) {
        rates = d2.rates;
        buildSelects();
        await autoDetectCurrency();
        convert();
      } else {
        showError("Unable to load exchange rates. Please refresh the page.");
      }
    } catch (e2) {
      console.error("Both APIs failed:", e2);
      showError("Unable to load exchange rates. Please check your connection and refresh.");
    }
  }
}

function showError(message) {
  const resultCard = document.getElementById("resultCard");
  const resultEl = document.getElementById("result");
  resultCard.style.display = "block";
  resultCard.style.background = "linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.1) 100%)";
  resultCard.style.borderColor = "rgba(239, 68, 68, 0.3)";
  resultEl.style.color = "#ef4444";
  resultEl.innerText = message;
}

function buildSelects() {
  if (Object.keys(rates).length === 0) return;
  
  fromSel.innerHTML = "";
  toSel.innerHTML = "";

  const names = new Intl.DisplayNames(['en'], { type: 'currency' });
  const all = Object.keys(rates).sort();
  const userFavs = favs();
  const ordered = [
    ...userFavs,
    ...POPULAR.filter(x => !userFavs.includes(x)),
    ...all.filter(x => !POPULAR.includes(x) && !userFavs.includes(x))
  ];

  ordered.forEach(c => {
    let name;
    try {
      name = names.of(c) || c;
    } catch (e) {
      name = c;
    }
    fromSel.innerHTML += `<option value="${c}">${c} ‚Äî ${name}</option>`;
    toSel.innerHTML += `<option value="${c}">${c} ‚Äî ${name}</option>`;
  });

  // Initialize TomSelect
  if (fromSel.tomselect) fromSel.tomselect.destroy();
  if (toSel.tomselect) toSel.tomselect.destroy();

  new TomSelect("#from", {
    render: {
      option: (d) => optionHTML(d.value, d.text.split("‚Äî")[1]?.trim() || d.value)
    },
    onChange: () => {
      updateChart();
      convert();
    }
  });
  
  new TomSelect("#to", {
    render: {
      option: (d) => optionHTML(d.value, d.text.split("‚Äî")[1]?.trim() || d.value)
    },
    onChange: () => {
      updateChart();
      convert();
    }
  });

  fromSel.tomselect.setValue("USD");
  toSel.tomselect.setValue("INR");
}

function numberToWords(num, currency) {
  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];
  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];
  
  // Currency-specific subunit names
  const subunits = {
    'USD': 'Cents', 'EUR': 'Cents', 'GBP': 'Pence', 'INR': 'Paisa',
    'AED': 'Fils', 'SAR': 'Halalas', 'QAR': 'Dirhams', 'KWD': 'Fils',
    'JPY': 'Sen', 'CNY': 'Fen', 'AUD': 'Cents', 'CAD': 'Cents'
  };
  
  const subunitName = subunits[currency] || 'Cents';
  
  function convertLessThanThousand(n) {
    if (n === 0) return '';
    if (n < 10) return ones[n];
    if (n < 20) return teens[n - 10];
    if (n < 100) return tens[Math.floor(n / 10)] + (n % 10 !== 0 ? ' ' + ones[n % 10] : '');
    return ones[Math.floor(n / 100)] + ' Hundred' + (n % 100 !== 0 ? ' and ' + convertLessThanThousand(n % 100) : '');
  }
  
  function convertIndianSystem(n) {
    if (n === 0) return 'Zero';
    
    let result = '';
    let crore = Math.floor(n / 10000000);
    n %= 10000000;
    let lakh = Math.floor(n / 100000);
    n %= 100000;
    let thousand = Math.floor(n / 1000);
    n %= 1000;
    let remainder = n;
    
    if (crore > 0) result += convertLessThanThousand(crore) + ' Crore ';
    if (lakh > 0) result += convertLessThanThousand(lakh) + ' Lakh ';
    if (thousand > 0) result += convertLessThanThousand(thousand) + ' Thousand ';
    if (remainder > 0) result += convertLessThanThousand(remainder);
    
    return result.trim();
  }
  
  function convertWesternSystem(n) {
    if (n === 0) return 'Zero';
    
    let result = '';
    let billion = Math.floor(n / 1000000000);
    n %= 1000000000;
    let million = Math.floor(n / 1000000);
    n %= 1000000;
    let thousand = Math.floor(n / 1000);
    n %= 1000;
    let remainder = n;
    
    if (billion > 0) result += convertLessThanThousand(billion) + ' Billion ';
    if (million > 0) result += convertLessThanThousand(million) + ' Million ';
    if (thousand > 0) result += convertLessThanThousand(thousand) + ' Thousand ';
    if (remainder > 0) result += convertLessThanThousand(remainder);
    
    return result.trim();
  }
  
  // Split into main and decimal parts
  const parts = num.toFixed(2).split('.');
  const mainPart = parseInt(parts[0]);
  const decimalPart = parseInt(parts[1]);
  
  // Use Indian system for INR, Western for others
  const useIndianSystem = currency === 'INR';
  let words = useIndianSystem ? convertIndianSystem(mainPart) : convertWesternSystem(mainPart);
  
  // Add currency name
  const currencyNames = {
    'USD': 'Dollars', 'EUR': 'Euros', 'GBP': 'Pounds', 'INR': 'Rupees',
    'AED': 'Dirhams', 'SAR': 'Riyals', 'QAR': 'Riyals', 'KWD': 'Dinars',
    'JPY': 'Yen', 'CNY': 'Yuan', 'AUD': 'Dollars', 'CAD': 'Dollars'
  };
  
  const currencyName = currencyNames[currency] || currency;
  words += ' ' + currencyName;
  
  // Add decimal part if exists
  if (decimalPart > 0) {
    const decimalWords = convertLessThanThousand(decimalPart);
    words += ' and ' + decimalWords + ' ' + subunitName;
  }
  
  return words;
}

function swapCurrencies() {
  if (!fromSel.tomselect || !toSel.tomselect) return;
  
  const a = fromSel.tomselect.getValue();
  const b = toSel.tomselect.getValue();
  fromSel.tomselect.setValue(b);
  toSel.tomselect.setValue(a);

  const swapBtn = document.querySelector(".swap");
  swapBtn.style.transform = "rotate(180deg)";
  setTimeout(() => {
    swapBtn.style.transform = "rotate(0deg)";
  }, 400);
}

function convert() {
  const amt = parseFloat(amount.value) * parseFloat(unit.value);
  
  if (!fromSel.tomselect || !toSel.tomselect || isNaN(amt) || amt < 0) {
    return;
  }
  
  const f = fromSel.tomselect.getValue();
  const t = toSel.tomselect.getValue();

  if (!rates[f] || !rates[t]) return;

  const val = (amt / rates[f]) * rates[t];
  
  const resultCard = document.getElementById("resultCard");
  const resultEl = document.getElementById("result");
  
  // Reset any error styling
  resultCard.style.background = "linear-gradient(135deg, rgba(34, 211, 238, 0.1) 0%, rgba(14, 165, 233, 0.1) 100%)";
  resultCard.style.borderColor = "rgba(34, 211, 238, 0.3)";
  resultEl.style.color = "#22d3ee";
  
  resultCard.style.display = "block";
  
  // Numeric result
  resultEl.innerHTML = `
    <div style="font-size: clamp(1.5rem, 4vw, 2.5rem); margin-bottom: 12px;">
      ${amt.toLocaleString()} ${f} = ${val.toLocaleString(undefined, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      })} ${t}
    </div>
    <div style="font-size: 1rem; color: #94a3b8; font-weight: 400; font-style: italic; line-height: 1.6; font-family: 'Outfit', sans-serif;">
      ${numberToWords(val, t)}
    </div>
  `;

  showChange(f, t);
}

function showChange(f, t) {
  const changeEl = document.getElementById("change");
  
  // For now, show a placeholder since we don't have yesterday's rates from the API
  // In production, you'd fetch historical data
  changeEl.innerHTML = `<div class="change-indicator change-up">üìà Real-time rate</div>`;
}

async function autoDetectCurrency() {
  try {
    const r = await fetch("https://ipapi.co/json/");
    const j = await r.json();
    if (j.currency && rates[j.currency] && fromSel.tomselect) {
      fromSel.tomselect.setValue(j.currency);
    }
  } catch (e) {
    console.log("Could not auto-detect currency");
  }
}

async function loadHistoricalRates(from, to) {
  const endDate = new Date();
  const startDate = new Date();
  startDate.setMonth(startDate.getMonth() - 6);

  const formatDate = (d) => d.toISOString().split('T')[0];
  
  try {
    // Using Frankfurter API for historical data (free, no API key)
    const response = await fetch(
      `https://api.frankfurter.app/${formatDate(startDate)}..${formatDate(endDate)}?from=${from}&to=${to}`
    );
    const data = await response.json();
    
    if (data.rates) {
      const dates = Object.keys(data.rates).sort();
      const values = dates.map(date => data.rates[date][to]);
      
      return {
        dates: dates,
        rates: values
      };
    }
  } catch (e) {
    console.error("Error loading historical rates:", e);
  }
  
  return null;
}

async function updateChart() {
  if (!fromSel.tomselect || !toSel.tomselect) return;
  
  const from = fromSel.tomselect.getValue();
  const to = toSel.tomselect.getValue();
  
  document.getElementById("chartLoading").style.display = "block";
  
  const historicalData = await loadHistoricalRates(from, to);
  
  document.getElementById("chartLoading").style.display = "none";
  
  if (!historicalData) return;
  
  const ctx = document.getElementById('rateChart').getContext('2d');
  
  if (chart) {
    chart.destroy();
  }
  
  chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: historicalData.dates.map(d => {
        const date = new Date(d);
        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
      }),
      datasets: [{
        label: `${from} to ${to}`,
        data: historicalData.rates,
        borderColor: '#22d3ee',
        backgroundColor: 'rgba(34, 211, 238, 0.1)',
        borderWidth: 3,
        fill: true,
        tension: 0.4,
        pointRadius: 0,
        pointHoverRadius: 6,
        pointHoverBackgroundColor: '#22d3ee',
        pointHoverBorderColor: '#ffffff',
        pointHoverBorderWidth: 2
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: true,
          labels: {
            color: '#94a3b8',
            font: {
              family: 'Outfit',
              size: 13,
              weight: '600'
            },
            padding: 15
          }
        },
        tooltip: {
          backgroundColor: 'rgba(15, 23, 42, 0.95)',
          titleColor: '#ffffff',
          bodyColor: '#22d3ee',
          borderColor: 'rgba(34, 211, 238, 0.3)',
          borderWidth: 1,
          padding: 12,
          cornerRadius: 8,
          titleFont: {
            family: 'Outfit',
            size: 13,
            weight: '600'
          },
          bodyFont: {
            family: 'Outfit',
            size: 14,
            weight: '700'
          },
          callbacks: {
            label: function(context) {
              return `Rate: ${context.parsed.y.toFixed(4)}`;
            }
          }
        }
      },
      scales: {
        x: {
          grid: {
            color: 'rgba(255, 255, 255, 0.05)',
            drawBorder: false
          },
          ticks: {
            color: '#64748b',
            font: {
              family: 'Outfit',
              size: 11
            },
            maxRotation: 0
          }
        },
        y: {
          grid: {
            color: 'rgba(255, 255, 255, 0.05)',
            drawBorder: false
          },
          ticks: {
            color: '#64748b',
            font: {
              family: 'Outfit',
              size: 11
            },
            callback: function(value) {
              return value.toFixed(4);
            }
          }
        }
      },
      interaction: {
        intersect: false,
        mode: 'index'
      }
    }
  });
}

// Event listeners
document.getElementById("amount").addEventListener("input", convert);
document.getElementById("unit").addEventListener("change", convert);

// Initialize
loadRates();
</script>

</body>
</html>
